var Swipe=function(){function i(t){return{x:t.pageX||t.touches[0]&&t.touches[0].screenX||t.changedTouches[0]&&t.changedTouches[0].screenX,y:t.pageY||t.touches[0]&&t.touches[0].screenY||t.changedTouches[0]&&t.changedTouches[0].screenY}}function s(t,n,e){var i,s,h=(i=n,s=e,{x:Math.abs(i.x-s.x),y:Math.abs(i.y-s.y)});return h.y<h.x&&t<=h.x?n.x>e.x?"to left":"to right":h.x<h.y&&t<=h.y?n.y>e.y?"to up":"to down":"none"}function t(){this._isTouches=!1,this._pointStart={},this._pointEnd={},this._directionHandlers={},this._touchEndHandlers=[]}return t.prototype.addListener=function(t,n,e,i){this._directionHandlers[e]=i,1<Object.keys(this._directionHandlers).length||(n.addEventListener("touchstart",this._handlerStart.bind(this),{passive:!0}),document.addEventListener("touchend",this._handlerEnd.bind(this,t)))},t.prototype._handlerStart=function(t){this._isTouches=!0,this._pointStart=i(t)},t.prototype._handlerEnd=function(t,n){if(this._isTouches){this._isTouches=!1,this._touchEndHandlers.forEach(function(t){t()}),this._pointEnd=i(n);var e=s(t,this._pointStart,this._pointEnd);e in this._directionHandlers&&this._directionHandlers[e]()}},t.prototype.addTouchEnd=function(t){this._touchEndHandlers.push(t)},t.prototype._handlerWatchEnd=function(t,n){if(this._isTouches){var e=i(n);t({x:e.x-this._pointStart.x,y:e.y-this._pointStart.y})}},t.prototype.addWatcher=function(t){document.addEventListener("touchmove",this._handlerWatchEnd.bind(this,t))},t}();