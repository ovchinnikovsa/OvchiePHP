var SliderSites=function(r){function t(t,i,s,e,h){for(var o in this._Swipe=new r,this.qty=t,this.refs={},this.offsetRules=s,this.dotsRules=e,this.dotClassName=h,this.offset=0,this.saveOffset={isSaved:!1,delta:0},this.stripWidth=0,this.defaultTransition=.3,i)this.refs[o]=document.querySelector(i[o]);this.slide=this._getSlide(),this.dataDots=this._getDots(),this._updateStrip(),this._updateDots(),this._updateEvents()}return t.prototype._updateEvents=function(){this.refs.btnLeft.addEventListener("click",this._toLeft.bind(this)),this.refs.btnRight.addEventListener("click",this._toRight.bind(this)),this._Swipe.addListener(50,this.refs.slider,"to left",this._toLeft.bind(this)),this._Swipe.addListener(50,this.refs.slider,"to right",this._toRight.bind(this)),this._Swipe.addTouchEnd(this._postMove.bind(this)),this._Swipe.addWatcher(this._preMove.bind(this))},t.prototype._toLeft=function(){this._moveStrip(-1,function(){this.offset<=-this.stripWidth&&(this.offset=0)})},t.prototype._toRight=function(){this._moveStrip(1,function(t){0<this.offset&&(this.offset=-t*(this.dataDots.qty-1))})},t.prototype._preMove=function(t){120<Math.abs(t.x)&&(t.x=80*(0<t.x?1:-1)),this.refs.strip.style.transition="0s",this.refs.strip.style.transform="translateX("+(this.offset+t.x)+"px)"},t.prototype._postMove=function(){this.refs.strip.style.transition=this.defaultTransition+"s",this.refs.strip.style.transform="translateX("+this.offset+"px)"},t.prototype._moveStrip=function(t,i){var s=(this.slide.width+this.slide.margin)*this.dataDots.visibleSlides;this.offset+=t*s,i.call(this,s),this.refs.strip.style.transform="translateX("+this.offset+"px)",this._updateDots()},t.prototype._updateStrip=function(){this.stripWidth=this.qty*this.slide.width+(this.qty-1)*this.slide.margin,this.refs.strip.style.width=this.stripWidth+"px"},t.prototype._updateDots=function(){this.refs.dots.innerHTML=this._htmlDots(this.dataDots.qty)},t.prototype._getDots=function(){for(var t=window.innerWidth,i=0;i<this.dotsRules.length;i++)if(this.dotsRules[i].equals(t))return this.dotsRules[i].data;return{qty:0,visibleSlides:0}},t.prototype._getSlide=function(){for(var t=window.innerWidth,i=0;i<this.offsetRules.length;i++)if(this.offsetRules[i].equals(t))return this.offsetRules[i].data;return{width:0,margin:0}},t.prototype._htmlDots=function(t){for(var i="",s=Math.abs(this.offset/(this.slide.width+this.slide.margin))/this.dataDots.visibleSlides,e=0;e<t;e++)i+=e!==s?'<div class="'+this.dotClassName+'"></div>':'<div class="'+this.dotClassName+' active"></div>';return i},(t.Media=function(t,i){this.min=t.min,this.max=t.max,this.data=i}).prototype.equals=function(t){return void 0!==this.min&&void 0!==this.max?t>=this.min&&t<=this.max:void 0!==this.min?t>=this.min:t<=this.max},t}(Swipe);